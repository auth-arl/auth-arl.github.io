<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>AUTh-ARL Core Stack: arl::math::Clik Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">AUTh-ARL Core Stack
   &#160;<span id="projectnumber">0.6.3</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classarl_1_1math_1_1_clik.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classarl_1_1math_1_1_clik-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">arl::math::Clik Class Reference<div class="ingroups"><a class="el" href="group___math_robotics.html">Math/Robotics</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Calculates joint velocities given desired task velocities by implementing Closed Loop Inverse Kinematics.  
 <a href="classarl_1_1math_1_1_clik.html#details">More...</a></p>

<p><code>#include &lt;autharl_core/math/kinematics/clik.h&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:adda8acd12d781a9134dbea8fc9b6cc72"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classarl_1_1math_1_1_clik.html#adda8acd12d781a9134dbea8fc9b6cc72">PinvMethod</a> { <a class="el" href="classarl_1_1math_1_1_clik.html#adda8acd12d781a9134dbea8fc9b6cc72a3376b01ff39aaf1e1e51762e439f71e2">ARMA</a>, 
<a class="el" href="classarl_1_1math_1_1_clik.html#adda8acd12d781a9134dbea8fc9b6cc72ad6d4d2e581527ddac9084c9bb80d3376">EIGEN</a>
 }</td></tr>
<tr class="memdesc:adda8acd12d781a9134dbea8fc9b6cc72"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enumerates the available methods for calculating the pseudo inverse jacobian matrix.  <a href="classarl_1_1math_1_1_clik.html#adda8acd12d781a9134dbea8fc9b6cc72">More...</a><br/></td></tr>
<tr class="separator:adda8acd12d781a9134dbea8fc9b6cc72"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a4fdf18a81cca8548fa67d45e8abe3dc5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classarl_1_1math_1_1_clik.html#a4fdf18a81cca8548fa67d45e8abe3dc5">Clik</a> (double dt, double singularity_avoid=0.1, <a class="el" href="classarl_1_1math_1_1_clik.html#adda8acd12d781a9134dbea8fc9b6cc72">Clik::PinvMethod</a> pinv_method=Clik::PinvMethod::EIGEN, const arma::vec &amp;k={4.0, 4.0, 4.0, 0.4, 0.4, 0.4})</td></tr>
<tr class="memdesc:a4fdf18a81cca8548fa67d45e8abe3dc5"><td class="mdescLeft">&#160;</td><td class="mdescRight">The default constructor.  <a href="#a4fdf18a81cca8548fa67d45e8abe3dc5">More...</a><br/></td></tr>
<tr class="separator:a4fdf18a81cca8548fa67d45e8abe3dc5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a217fd387653a77bf12e0ec7db89151c8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classarl_1_1math_1_1_clik.html#a217fd387653a77bf12e0ec7db89151c8">~Clik</a> ()</td></tr>
<tr class="separator:a217fd387653a77bf12e0ec7db89151c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af26de9b65db0b9ff615acf1b5e9a96e0"><td class="memItemLeft" align="right" valign="top">arma::vec&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classarl_1_1math_1_1_clik.html#af26de9b65db0b9ff615acf1b5e9a96e0">getJointVelocity</a> (const arma::mat &amp;jac, const arma::vec &amp;vd, const arma::vec &amp;x, const arma::vec &amp;xd)</td></tr>
<tr class="memdesc:af26de9b65db0b9ff615acf1b5e9a96e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the joint velocities given the jacobian matrix, the desired Cartesian velocity, the current pose and the desired pose.  <a href="#af26de9b65db0b9ff615acf1b5e9a96e0">More...</a><br/></td></tr>
<tr class="separator:af26de9b65db0b9ff615acf1b5e9a96e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbe7d76c7890536640677d832b02bba0"><td class="memItemLeft" align="right" valign="top">arma::vec&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classarl_1_1math_1_1_clik.html#abbe7d76c7890536640677d832b02bba0">getJointVelocity</a> (const arma::mat &amp;jac, const arma::vec &amp;vd, const arma::vec &amp;x)</td></tr>
<tr class="memdesc:abbe7d76c7890536640677d832b02bba0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the joint velocities given the jacobian matrix, the desired Cartesian velocity, the current pose. Here the desired pose it is not necessary as it is calculated from integration of the desired velocity. This is a wrapper function which calculates the desired pose by integrating the desired velocity and calls <a class="el" href="classarl_1_1math_1_1_clik.html#af26de9b65db0b9ff615acf1b5e9a96e0" title="Returns the joint velocities given the jacobian matrix, the desired Cartesian velocity, the current pose and the desired pose. ">Clik::getJointVelocity</a>(mat, vec, vec, vec) for calculating the joint velocities.  <a href="#abbe7d76c7890536640677d832b02bba0">More...</a><br/></td></tr>
<tr class="separator:abbe7d76c7890536640677d832b02bba0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d5feb81da9ddaa660894cc9eb37dc75"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classarl_1_1math_1_1_clik.html#a6d5feb81da9ddaa660894cc9eb37dc75">setInitialPose</a> (const arma::vec &amp;position, const arma::vec &amp;orientation)</td></tr>
<tr class="memdesc:a6d5feb81da9ddaa660894cc9eb37dc75"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the initial position and orientation of the arm. Call this function the first time that the control loop will run.  <a href="#a6d5feb81da9ddaa660894cc9eb37dc75">More...</a><br/></td></tr>
<tr class="separator:a6d5feb81da9ddaa660894cc9eb37dc75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe32429c672834fca581a12a226c5889"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classarl_1_1math_1_1_clik.html#abe32429c672834fca581a12a226c5889">enableLogging</a> (const std::string &amp;log_path=&quot;/home/user/autharl_logfiles&quot;)</td></tr>
<tr class="memdesc:abe32429c672834fca581a12a226c5889"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call it if you desire to enable logging.  <a href="#abe32429c672834fca581a12a226c5889">More...</a><br/></td></tr>
<tr class="separator:abe32429c672834fca581a12a226c5889"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Calculates joint velocities given desired task velocities by implementing Closed Loop Inverse Kinematics. </p>
<p>You can use it in a control loop for commanding Cartesian velocities.</p>
<p>The joint velocities is computed as:</p>
<p><img class="formulaInl" alt="$ \dot{q} = J^+ (\dot{x}_d - K e) $" src="form_0.png"/></p>
<p>where <img class="formulaInl" alt="$\dot{q} \in \mathbb{R}^n$" src="form_1.png"/> the joint velocities of a robot with <img class="formulaInl" alt="$n$" src="form_2.png"/> joints, <img class="formulaInl" alt="$ J^+ $" src="form_3.png"/> the pseudo-inverse of the jacobian matrix, <img class="formulaInl" alt="$\dot{x}_d \in \mathbb{R}^6$" src="form_4.png"/> the desired cartesian velocity, <img class="formulaInl" alt="$ K $" src="form_5.png"/> diagonal gain matrix and <img class="formulaInl" alt="$e \in \mathbb{R}^6$" src="form_6.png"/> the pose error (position and orientation error), as the difference between the current pose and the desired pose (the desired pose can by calculated also by integrating the desired Cartesian velocity).</p>
<p>Example of use:</p>
<div class="fragment"><div class="line"><span class="keyword">using</span> <a class="code" href="classarl_1_1math_1_1_clik.html">arl::math::Clik</a>;</div>
<div class="line"><a class="code" href="classarl_1_1math_1_1_clik.html#a4fdf18a81cca8548fa67d45e8abe3dc5">Clik</a> clik(1e-3);</div>
<div class="line"></div>
<div class="line"><span class="comment">// Read the position and orientation of the end-effector of the robot</span></div>
<div class="line"><span class="comment">// (orientation in quaternion)</span></div>
<div class="line">p = getPositionFromRobot();</div>
<div class="line">q = getOrientationFromRobot();</div>
<div class="line"></div>
<div class="line"><span class="comment">// Initialize clik</span></div>
<div class="line">clik.setInitialPose(p, q);</div>
<div class="line"></div>
<div class="line"><span class="comment">// Run the control loop</span></div>
<div class="line"><span class="keywordflow">while</span> (<span class="keyword">true</span>)</div>
<div class="line">{</div>
<div class="line">  <span class="comment">// Read the current pose of the robot (orientation in quaternion)</span></div>
<div class="line">  vec x = getPoseFromRobot();</div>
<div class="line"></div>
<div class="line">  <span class="comment">// Read the jacobian from the robot</span></div>
<div class="line">  vec jac = getJacobianFromRobot();</div>
<div class="line">  </div>
<div class="line">  <span class="comment">// Calculate an arbitrary desired Cartesian velocity.</span></div>
<div class="line">  vec vd = {0.1, 0.1, 0, 0.01, 0.01, 0};</div>
<div class="line"></div>
<div class="line">  <span class="comment">// Calculate the joint velocities for the desired Cartesian position.</span></div>
<div class="line">  vec qdot = clik.getJointVelocity(jac, vd, x);</div>
<div class="line"></div>
<div class="line">  <span class="comment">// Command the robot joint velocities</span></div>
<div class="line">  sendJointVelocitiesToRobot(qdot);</div>
<div class="line">}</div>
</div><!-- fragment --> </div><h2 class="groupheader">Member Enumeration Documentation</h2>
<a class="anchor" id="adda8acd12d781a9134dbea8fc9b6cc72"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classarl_1_1math_1_1_clik.html#adda8acd12d781a9134dbea8fc9b6cc72">arl::math::Clik::PinvMethod</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enumerates the available methods for calculating the pseudo inverse jacobian matrix. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="adda8acd12d781a9134dbea8fc9b6cc72a3376b01ff39aaf1e1e51762e439f71e2"></a>ARMA</em>&#160;</td><td class="fielddoc">
<p>It will use the arma::pinv() function. From experience it can be proven quite slow for control loops under 5ms. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="adda8acd12d781a9134dbea8fc9b6cc72ad6d4d2e581527ddac9084c9bb80d3376"></a>EIGEN</em>&#160;</td><td class="fielddoc">
<p>It will use the Eigen::colPivHouseholderQr() solver which has been proven quite fast. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a4fdf18a81cca8548fa67d45e8abe3dc5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">arl::math::Clik::Clik </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>singularity_avoid</em> = <code>0.1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classarl_1_1math_1_1_clik.html#adda8acd12d781a9134dbea8fc9b6cc72">Clik::PinvMethod</a>&#160;</td>
          <td class="paramname"><em>pinv_method</em> = <code>Clik::PinvMethod::EIGEN</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const arma::vec &amp;&#160;</td>
          <td class="paramname"><em>k</em> = <code>{4.0,&#160;4.0,&#160;4.0,&#160;0.4,&#160;0.4,&#160;0.4}</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The default constructor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dt</td><td>The cycle time of the control loop needed if no desired pose is provided and the desired pose is calculated by integrating the desired velocity. </td></tr>
    <tr><td class="paramname">singularity_avoid</td><td>Tolerance under which any singular values are treated as zero. Use it for singularity avoidance. This parameter is used only if the pinv_method is choosen to be ARMA. </td></tr>
    <tr><td class="paramname">pinv_method</td><td>The method to use for calculating the inverse Jacobian. It is recommended to use the default value of EIGEN as it has been tested to be much faster. Calculating with ARMA may cause delays in a real time loop. </td></tr>
    <tr><td class="paramname">k</td><td>The gain K of CLIK as a vector of 6 gains (translational and rotational). It is recommended to use the default values. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a217fd387653a77bf12e0ec7db89151c8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">arl::math::Clik::~Clik </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="abe32429c672834fca581a12a226c5889"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void arl::math::Clik::enableLogging </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>log_path</em> = <code>&quot;/home/user/autharl_logfiles&quot;</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Call it if you desire to enable logging. </p>
<p>The logfiles will located in path with a name with a timestamp and the name clik.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">log_path</td><td>An already existing path for the logfiles. </td></tr>
  </table>
  </dd>
</dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classarl_1_1math_1_1_clik_abe32429c672834fca581a12a226c5889_cgraph.png" border="0" usemap="#classarl_1_1math_1_1_clik_abe32429c672834fca581a12a226c5889_cgraph" alt=""/></div>
<map name="classarl_1_1math_1_1_clik_abe32429c672834fca581a12a226c5889_cgraph" id="classarl_1_1math_1_1_clik_abe32429c672834fca581a12a226c5889_cgraph">
<area shape="rect" id="node2" href="classarl_1_1io_1_1_logger.html#a97bb5e32442bf9816c428a3f50b2677d" title="Opens the file in the given destination. " alt="" coords="249,12,386,39"/><area shape="rect" id="node3" href="classarl_1_1utils_1_1_timer.html#aec81585e23ff5da54bbc3395b8bbe330" title="Returns the current date and time in a string format. " alt="" coords="435,5,575,46"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="af26de9b65db0b9ff615acf1b5e9a96e0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">arma::vec arl::math::Clik::getJointVelocity </td>
          <td>(</td>
          <td class="paramtype">const arma::mat &amp;&#160;</td>
          <td class="paramname"><em>jac</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const arma::vec &amp;&#160;</td>
          <td class="paramname"><em>vd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const arma::vec &amp;&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const arma::vec &amp;&#160;</td>
          <td class="paramname"><em>xd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the joint velocities given the jacobian matrix, the desired Cartesian velocity, the current pose and the desired pose. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">jac</td><td>The jacobian matrix of the arm </td></tr>
    <tr><td class="paramname">vd</td><td>The desired velocity of the end-effector </td></tr>
    <tr><td class="paramname">x</td><td>The current pose of the the arm as a 7D vector (position/quaternion: [x, y, z, qw, qx, qy, qz] </td></tr>
    <tr><td class="paramname">xd</td><td>The desired pose of the the arm as a 7D vector (position/quaternion: [x, y, z, qw, qx, qy, qz]</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The velocities of the joints </dd></dl>

</div>
</div>
<a class="anchor" id="abbe7d76c7890536640677d832b02bba0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">arma::vec arl::math::Clik::getJointVelocity </td>
          <td>(</td>
          <td class="paramtype">const arma::mat &amp;&#160;</td>
          <td class="paramname"><em>jac</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const arma::vec &amp;&#160;</td>
          <td class="paramname"><em>vd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const arma::vec &amp;&#160;</td>
          <td class="paramname"><em>x</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the joint velocities given the jacobian matrix, the desired Cartesian velocity, the current pose. Here the desired pose it is not necessary as it is calculated from integration of the desired velocity. This is a wrapper function which calculates the desired pose by integrating the desired velocity and calls <a class="el" href="classarl_1_1math_1_1_clik.html#af26de9b65db0b9ff615acf1b5e9a96e0" title="Returns the joint velocities given the jacobian matrix, the desired Cartesian velocity, the current pose and the desired pose. ">Clik::getJointVelocity</a>(mat, vec, vec, vec) for calculating the joint velocities. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">jac</td><td>The jacobian matrix of the arm </td></tr>
    <tr><td class="paramname">vd</td><td>The desired velocity of the end-effector </td></tr>
    <tr><td class="paramname">x</td><td>The current pose of the the arm as a 7D vector (position/quaternion: [x, y, z, qw, qx, qy, qz]</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The velocities of the joints </dd></dl>

</div>
</div>
<a class="anchor" id="a6d5feb81da9ddaa660894cc9eb37dc75"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void arl::math::Clik::setInitialPose </td>
          <td>(</td>
          <td class="paramtype">const arma::vec &amp;&#160;</td>
          <td class="paramname"><em>position</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const arma::vec &amp;&#160;</td>
          <td class="paramname"><em>orientation</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the initial position and orientation of the arm. Call this function the first time that the control loop will run. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">position</td><td>The initial position (x, y ,z) </td></tr>
    <tr><td class="paramname">orientation</td><td>The initial orientation in quaternion w, x, y, z </td></tr>
  </table>
  </dd>
</dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classarl_1_1math_1_1_clik_a6d5feb81da9ddaa660894cc9eb37dc75_cgraph.png" border="0" usemap="#classarl_1_1math_1_1_clik_a6d5feb81da9ddaa660894cc9eb37dc75_cgraph" alt=""/></div>
<map name="classarl_1_1math_1_1_clik_a6d5feb81da9ddaa660894cc9eb37dc75_cgraph" id="classarl_1_1math_1_1_clik_a6d5feb81da9ddaa660894cc9eb37dc75_cgraph">
<area shape="rect" id="node2" href="namespacearl_1_1math.html#a94b949c6e7ca3b3c2684425fa670d5a0" title="arl::math::qd_prev_" alt="" coords="246,5,381,32"/></map>
</div>
</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacearl.html">arl</a></li><li class="navelem"><a class="el" href="namespacearl_1_1math.html">math</a></li><li class="navelem"><a class="el" href="classarl_1_1math_1_1_clik.html">Clik</a></li>
    <li class="footer">Generated on Tue Mar 13 2018 19:08:25 for AUTh-ARL Core Stack by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
