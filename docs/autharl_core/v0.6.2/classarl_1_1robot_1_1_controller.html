<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>AUTh-ARL Core Stack: arl::robot::Controller Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">AUTh-ARL Core Stack
   &#160;<span id="projectnumber">0.6.2</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacearl.html">arl</a></li><li class="navelem"><a class="el" href="namespacearl_1_1robot.html">robot</a></li><li class="navelem"><a class="el" href="classarl_1_1robot_1_1_controller.html">Controller</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classarl_1_1robot_1_1_controller-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">arl::robot::Controller Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span><div class="ingroups"><a class="el" href="group___robot_controllers.html">Robot Controllers</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>An abstract class which implements a robot controller.  
 <a href="classarl_1_1robot_1_1_controller.html#details">More...</a></p>

<p><code>#include &lt;controller.h&gt;</code></p>
<div class="dynheader">
Inheritance diagram for arl::robot::Controller:</div>
<div class="dyncontent">
<div class="center"><img src="classarl_1_1robot_1_1_controller__inherit__graph.png" border="0" usemap="#arl_1_1robot_1_1_controller_inherit__map" alt="Inheritance graph"/></div>
<map name="arl_1_1robot_1_1_controller_inherit__map" id="arl_1_1robot_1_1_controller_inherit__map">
<area shape="rect" id="node2" href="classarl_1_1bhand_1_1controller_1_1_joint_admittance.html" title="Implements a Joint Admittance Controller for BarrettHand. " alt="" coords="218,5,358,46"/><area shape="rect" id="node3" href="classarl_1_1controller_1_1_cartesian_admittance.html" title="Implements a Cartesian Admittance Controller assuming the existance of an F/T Sensor. " alt="" coords="207,70,369,111"/><area shape="rect" id="node4" href="classarl_1_1controller_1_1_cartesian_impedance.html" title="Implements a Cartesian Impedance Controller, assuming that the robot supports this mode..." alt="" coords="207,135,369,177"/><area shape="rect" id="node5" href="classarl_1_1controller_1_1_clik.html" title="Implements a Closed Inversed Kinematics Controller for sending Task Velocities. " alt="" coords="224,201,352,228"/><area shape="rect" id="node6" href="classarl_1_1controller_1_1_gravity_compensation.html" title="Implements a gravity compensation controller. " alt="" coords="215,253,361,294"/><area shape="rect" id="node7" href="classarl_1_1controller_1_1_joint_trajectory.html" title="Implements a Joint Trajectory controller. " alt="" coords="193,319,383,345"/><area shape="rect" id="node8" href="classarl_1_1robot_1_1_arm_hand_controller.html" title="arl::robot::ArmHandController" alt="" coords="192,369,384,396"/><area shape="rect" id="node9" href="classarl_1_1viz_1_1_ros_state_publisher.html" title="A class which implements a controller for robot visualization in RViz. " alt="" coords="199,420,377,447"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for arl::robot::Controller:</div>
<div class="dyncontent">
<div class="center"><img src="classarl_1_1robot_1_1_controller__coll__graph.png" border="0" usemap="#arl_1_1robot_1_1_controller_coll__map" alt="Collaboration graph"/></div>
<map name="arl_1_1robot_1_1_controller_coll__map" id="arl_1_1robot_1_1_controller_coll__map">
<area shape="rect" id="node2" href="classarl_1_1utils_1_1_timer.html" title="Provides timing capabilities, like measure the time elapsed since the last call (e.g. useful in a control loop). " alt="" coords="5,5,115,32"/><area shape="rect" id="node3" href="classarl_1_1io_1_1_logger.html" title="Helper class providing logging capabilities. Useful in control loops for logging data and easily pars..." alt="" coords="173,5,275,32"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:ab7e361caf751a795006b7675dad54a42"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classarl_1_1robot_1_1_controller.html#ab7e361caf751a795006b7675dad54a42">Timing</a> { <a class="el" href="classarl_1_1robot_1_1_controller.html#ab7e361caf751a795006b7675dad54a42adb1077e89bd4769a2f15824fd21931f7">FIXED</a>, 
<a class="el" href="classarl_1_1robot_1_1_controller.html#ab7e361caf751a795006b7675dad54a42ae504da7de76657bf55a5a74ca16b4eb7">DYNAMIC</a>
 }</td></tr>
<tr class="separator:ab7e361caf751a795006b7675dad54a42"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ae9976f907ef4158d184d4b2e19c68175"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classarl_1_1robot_1_1_controller.html#ae9976f907ef4158d184d4b2e19c68175">Controller</a> (std::shared_ptr&lt; <a class="el" href="classarl_1_1robot_1_1_robot.html">Robot</a> &gt; r, const std::string &amp;<a class="el" href="classarl_1_1robot_1_1_controller.html#a5ab97e428a1763fc310d36cb0ad0f4e9">name</a>, <a class="el" href="classarl_1_1robot_1_1_controller.html#ab7e361caf751a795006b7675dad54a42">Timing</a> timing=<a class="el" href="classarl_1_1robot_1_1_controller.html#ab7e361caf751a795006b7675dad54a42adb1077e89bd4769a2f15824fd21931f7">FIXED</a>)</td></tr>
<tr class="memdesc:ae9976f907ef4158d184d4b2e19c68175"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor which initializes the robot controller.  <a href="#ae9976f907ef4158d184d4b2e19c68175">More...</a><br/></td></tr>
<tr class="separator:ae9976f907ef4158d184d4b2e19c68175"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6964c84abdec5f8288c6991dc7783511"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classarl_1_1robot_1_1_controller.html#a6964c84abdec5f8288c6991dc7783511">~Controller</a> ()</td></tr>
<tr class="separator:a6964c84abdec5f8288c6991dc7783511"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff59b3f48de46a2f99cca4baa4249902"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classarl_1_1robot_1_1_controller.html#aff59b3f48de46a2f99cca4baa4249902">run</a> ()</td></tr>
<tr class="memdesc:aff59b3f48de46a2f99cca4baa4249902"><td class="mdescLeft">&#160;</td><td class="mdescRight">The main function that runs the controller.  <a href="#aff59b3f48de46a2f99cca4baa4249902">More...</a><br/></td></tr>
<tr class="separator:aff59b3f48de46a2f99cca4baa4249902"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae17338ad0e7acdc0cc0442ff912c359d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classarl_1_1robot_1_1_controller.html#ae17338ad0e7acdc0cc0442ff912c359d">setExternalStop</a> (bool arg)</td></tr>
<tr class="memdesc:ae17338ad0e7acdc0cc0442ff912c359d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets an external stop to the controller. Another external thread can use this function to stop the controller.  <a href="#ae17338ad0e7acdc0cc0442ff912c359d">More...</a><br/></td></tr>
<tr class="separator:ae17338ad0e7acdc0cc0442ff912c359d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d60c751cc1305702562fcd7fa846d3e"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classarl_1_1robot_1_1_controller.html#a8d60c751cc1305702562fcd7fa846d3e">getName</a> ()</td></tr>
<tr class="memdesc:a8d60c751cc1305702562fcd7fa846d3e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the name of the controller.  <a href="#a8d60c751cc1305702562fcd7fa846d3e">More...</a><br/></td></tr>
<tr class="separator:a8d60c751cc1305702562fcd7fa846d3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec250db6a99b38797318371ac7b287bd"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classarl_1_1robot_1_1_controller.html#aec250db6a99b38797318371ac7b287bd">getTime</a> () const </td></tr>
<tr class="memdesc:aec250db6a99b38797318371ac7b287bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the current time since the start of the controller in seconds.  <a href="#aec250db6a99b38797318371ac7b287bd">More...</a><br/></td></tr>
<tr class="separator:aec250db6a99b38797318371ac7b287bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada37d9026e80c99391b0f4a3c8433446"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classarl_1_1robot_1_1_controller.html#ada37d9026e80c99391b0f4a3c8433446">enableLogging</a> (const std::string &amp;log_path=&quot;/home/user/autharl_logfiles/&quot;)</td></tr>
<tr class="memdesc:ada37d9026e80c99391b0f4a3c8433446"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enables the logging by opening files for log benchmarking times and data.  <a href="#ada37d9026e80c99391b0f4a3c8433446">More...</a><br/></td></tr>
<tr class="separator:ada37d9026e80c99391b0f4a3c8433446"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:af28359b663c9c19118b5900a812e3b43"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classarl_1_1robot_1_1_controller.html#af28359b663c9c19118b5900a812e3b43">init</a> ()</td></tr>
<tr class="memdesc:af28359b663c9c19118b5900a812e3b43"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the controller.  <a href="#af28359b663c9c19118b5900a812e3b43">More...</a><br/></td></tr>
<tr class="separator:af28359b663c9c19118b5900a812e3b43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa49fdbc2c24957201f0fa03e315e8ff"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classarl_1_1robot_1_1_controller.html#afa49fdbc2c24957201f0fa03e315e8ff">stop</a> ()</td></tr>
<tr class="memdesc:afa49fdbc2c24957201f0fa03e315e8ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Implements the stopping condition of your controller.  <a href="#afa49fdbc2c24957201f0fa03e315e8ff">More...</a><br/></td></tr>
<tr class="separator:afa49fdbc2c24957201f0fa03e315e8ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab23a53d9a36071befe3c8108054bcd7"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classarl_1_1robot_1_1_controller.html#aab23a53d9a36071befe3c8108054bcd7">success</a> ()</td></tr>
<tr class="memdesc:aab23a53d9a36071befe3c8108054bcd7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Implements the success condition of your controller.  <a href="#aab23a53d9a36071befe3c8108054bcd7">More...</a><br/></td></tr>
<tr class="separator:aab23a53d9a36071befe3c8108054bcd7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59c291bf5ccbaa273976956f190794f3"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classarl_1_1robot_1_1_controller.html#a59c291bf5ccbaa273976956f190794f3">measure</a> ()</td></tr>
<tr class="memdesc:a59c291bf5ccbaa273976956f190794f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Measures the desired data.  <a href="#a59c291bf5ccbaa273976956f190794f3">More...</a><br/></td></tr>
<tr class="separator:a59c291bf5ccbaa273976956f190794f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab963c74d1fadcefd8e6220662379d073"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classarl_1_1robot_1_1_controller.html#ab963c74d1fadcefd8e6220662379d073">command</a> ()</td></tr>
<tr class="memdesc:ab963c74d1fadcefd8e6220662379d073"><td class="mdescLeft">&#160;</td><td class="mdescRight">Commands the robot.  <a href="#ab963c74d1fadcefd8e6220662379d073">More...</a><br/></td></tr>
<tr class="separator:ab963c74d1fadcefd8e6220662379d073"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab39ee6179416f0fd2c6c4de6249d9c38"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classarl_1_1robot_1_1_controller.html#ab39ee6179416f0fd2c6c4de6249d9c38">update</a> ()=0</td></tr>
<tr class="memdesc:ab39ee6179416f0fd2c6c4de6249d9c38"><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs the necessary calculations of the controller.  <a href="#ab39ee6179416f0fd2c6c4de6249d9c38">More...</a><br/></td></tr>
<tr class="separator:ab39ee6179416f0fd2c6c4de6249d9c38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a370a16b12e39cad5ec28c3a0dd81ab74"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classarl_1_1robot_1_1_controller.html#a370a16b12e39cad5ec28c3a0dd81ab74">reference</a> (const arma::mat &amp;ref)</td></tr>
<tr class="memdesc:a370a16b12e39cad5ec28c3a0dd81ab74"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets a new reference for the controller.  <a href="#a370a16b12e39cad5ec28c3a0dd81ab74">More...</a><br/></td></tr>
<tr class="separator:a370a16b12e39cad5ec28c3a0dd81ab74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a53028597a91d47bea6935270ea2959"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classarl_1_1robot_1_1_controller.html#a4a53028597a91d47bea6935270ea2959">waitNextCycle</a> ()</td></tr>
<tr class="separator:a4a53028597a91d47bea6935270ea2959"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a5ab97e428a1763fc310d36cb0ad0f4e9"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classarl_1_1robot_1_1_controller.html#a5ab97e428a1763fc310d36cb0ad0f4e9">name</a></td></tr>
<tr class="memdesc:a5ab97e428a1763fc310d36cb0ad0f4e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">The name of the controller.  <a href="#a5ab97e428a1763fc310d36cb0ad0f4e9">More...</a><br/></td></tr>
<tr class="separator:a5ab97e428a1763fc310d36cb0ad0f4e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae807c44c1aa071ec59955ed0faf8600"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classarl_1_1robot_1_1_controller.html#aae807c44c1aa071ec59955ed0faf8600">external_stop</a></td></tr>
<tr class="memdesc:aae807c44c1aa071ec59955ed0faf8600"><td class="mdescLeft">&#160;</td><td class="mdescRight">The external stopped setted by <a class="el" href="classarl_1_1robot_1_1_controller.html#ae17338ad0e7acdc0cc0442ff912c359d" title="Sets an external stop to the controller. Another external thread can use this function to stop the co...">Controller::setExternalStop()</a>  <a href="#aae807c44c1aa071ec59955ed0faf8600">More...</a><br/></td></tr>
<tr class="separator:aae807c44c1aa071ec59955ed0faf8600"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a15c311185097b39746f20363b83b61"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="classarl_1_1robot_1_1_robot.html">Robot</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classarl_1_1robot_1_1_controller.html#a4a15c311185097b39746f20363b83b61">robot</a></td></tr>
<tr class="memdesc:a4a15c311185097b39746f20363b83b61"><td class="mdescLeft">&#160;</td><td class="mdescRight">The pointer to the robot to be controlled.  <a href="#a4a15c311185097b39746f20363b83b61">More...</a><br/></td></tr>
<tr class="separator:a4a15c311185097b39746f20363b83b61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a989131827b46e7d40f7304db80755ec7"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classarl_1_1robot_1_1_controller.html#a989131827b46e7d40f7304db80755ec7">t</a></td></tr>
<tr class="memdesc:a989131827b46e7d40f7304db80755ec7"><td class="mdescLeft">&#160;</td><td class="mdescRight">The current time t, with t = 0 when the controller is created. Alternatively the user can initialize time durint the <a class="el" href="classarl_1_1robot_1_1_controller.html#af28359b663c9c19118b5900a812e3b43" title="Initializes the controller. ">init()</a> function of its derived controller.  <a href="#a989131827b46e7d40f7304db80755ec7">More...</a><br/></td></tr>
<tr class="separator:a989131827b46e7d40f7304db80755ec7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00f38032199e0b3c759aac9b382f12e1"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classarl_1_1robot_1_1_controller.html#a00f38032199e0b3c759aac9b382f12e1">dt</a></td></tr>
<tr class="memdesc:a00f38032199e0b3c759aac9b382f12e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">The cycle time of the control loop, obtained by the robot.  <a href="#a00f38032199e0b3c759aac9b382f12e1">More...</a><br/></td></tr>
<tr class="separator:a00f38032199e0b3c759aac9b382f12e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2e9ff44a6ef6f7e9df71ba61b4c0155"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classarl_1_1robot_1_1_controller.html#ac2e9ff44a6ef6f7e9df71ba61b4c0155">stop_flag_</a></td></tr>
<tr class="separator:ac2e9ff44a6ef6f7e9df71ba61b4c0155"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72d35b4c1adf909f93e4e9f777b8b505"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classarl_1_1utils_1_1_timer.html">utils::Timer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classarl_1_1robot_1_1_controller.html#a72d35b4c1adf909f93e4e9f777b8b505">timer</a></td></tr>
<tr class="memdesc:a72d35b4c1adf909f93e4e9f777b8b505"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used for measuring the current time of the controller.  <a href="#a72d35b4c1adf909f93e4e9f777b8b505">More...</a><br/></td></tr>
<tr class="separator:a72d35b4c1adf909f93e4e9f777b8b505"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b97e78d8b569eb7399d94144703c13e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classarl_1_1utils_1_1_timer.html">utils::Timer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classarl_1_1robot_1_1_controller.html#a6b97e78d8b569eb7399d94144703c13e">benchmark_total_timer_</a></td></tr>
<tr class="separator:a6b97e78d8b569eb7399d94144703c13e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a193bf1fa1a996ec6f1fe93dbd7008872"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classarl_1_1utils_1_1_timer.html">utils::Timer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classarl_1_1robot_1_1_controller.html#a193bf1fa1a996ec6f1fe93dbd7008872">benchmark_timer_</a></td></tr>
<tr class="separator:a193bf1fa1a996ec6f1fe93dbd7008872"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2c0ad1b4362530f229141e47827cab6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classarl_1_1io_1_1_logger.html">io::Logger</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classarl_1_1robot_1_1_controller.html#ad2c0ad1b4362530f229141e47827cab6">benchmark_logger_</a></td></tr>
<tr class="separator:ad2c0ad1b4362530f229141e47827cab6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4df98ef4192beac5f244994c669b99f7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classarl_1_1io_1_1_logger.html">io::Logger</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classarl_1_1robot_1_1_controller.html#a4df98ef4192beac5f244994c669b99f7">logger_</a></td></tr>
<tr class="separator:a4df98ef4192beac5f244994c669b99f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04f35dc58030ec1664b74766e0df96a1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classarl_1_1robot_1_1_controller.html#ab7e361caf751a795006b7675dad54a42">Timing</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classarl_1_1robot_1_1_controller.html#a04f35dc58030ec1664b74766e0df96a1">timing_</a></td></tr>
<tr class="separator:a04f35dc58030ec1664b74766e0df96a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>An abstract class which implements a robot controller. </p>
<p>This class defines an interface for implementing a robot controller. You can create your own robot controller by inherit this class and implement the different functionalities like:</p>
<ul>
<li>How the controller is initializing. For example, the controller before it starts it may need to send the robot to an initial configuration</li>
<li>What measurements your controller needs. For example, reading the joint positions, or the joint torques of the robot.</li>
<li>The most important part: the calculations that your controller performs in order to produce commands from the measurements.</li>
<li>What commands your controller send to the robot. For example, sending calculates and sends task velocities or joint torques.</li>
<li>What is the stopping policy of your controller. For example, it stops when your robot stops moving or a high dangerous external force is detected.</li>
<li>When your controller is successful. </li>
</ul>
</div><h2 class="groupheader">Member Enumeration Documentation</h2>
<a class="anchor" id="ab7e361caf751a795006b7675dad54a42"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classarl_1_1robot_1_1_controller.html#ab7e361caf751a795006b7675dad54a42">arl::robot::Controller::Timing</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="ab7e361caf751a795006b7675dad54a42adb1077e89bd4769a2f15824fd21931f7"></a>FIXED</em>&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="ab7e361caf751a795006b7675dad54a42ae504da7de76657bf55a5a74ca16b4eb7"></a>DYNAMIC</em>&#160;</td><td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ae9976f907ef4158d184d4b2e19c68175"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">arl::robot::Controller::Controller </td>
          <td>(</td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="classarl_1_1robot_1_1_robot.html">Robot</a> &gt;&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classarl_1_1robot_1_1_controller.html#ab7e361caf751a795006b7675dad54a42">Timing</a>&#160;</td>
          <td class="paramname"><em>timing</em> = <code><a class="el" href="classarl_1_1robot_1_1_controller.html#ab7e361caf751a795006b7675dad54a42adb1077e89bd4769a2f15824fd21931f7">FIXED</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructor which initializes the robot controller. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>A pointer to the robot to be controlled. </td></tr>
    <tr><td class="paramname">name</td><td>The name of your controller. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a6964c84abdec5f8288c6991dc7783511"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">arl::robot::Controller::~Controller </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="ab963c74d1fadcefd8e6220662379d073"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void arl::robot::Controller::command </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Commands the robot. </p>
<p>Implemented according to your controller needs. Basically makes calls to functions of the <a class="el" href="classarl_1_1robot_1_1_robot.html" title="An abstract class that implements a robot. ">Robot</a> class, like sending new desired joint torques or joint positions. These desired signals can be stored in internal variables and should have been calculated based on the measurements of the <a class="el" href="classarl_1_1robot_1_1_controller.html#a59c291bf5ccbaa273976956f190794f3" title="Measures the desired data. ">Controller::measure()</a> and the calculations of the <a class="el" href="classarl_1_1robot_1_1_controller.html#ab39ee6179416f0fd2c6c4de6249d9c38" title="Performs the necessary calculations of the controller. ">Controller::update()</a> </p>

<p>Reimplemented in <a class="el" href="classarl_1_1viz_1_1_ros_state_publisher.html#a9daaf658c361563ce37a780816fdd2e2">arl::viz::RosStatePublisher</a>, <a class="el" href="classarl_1_1controller_1_1_gravity_compensation.html#a1c45d15aa4893e7c871f61c2f13c3a26">arl::controller::GravityCompensation</a>, <a class="el" href="classarl_1_1controller_1_1_joint_trajectory.html#a5014107d2e4a14b03473cda48c200166">arl::controller::JointTrajectory</a>, <a class="el" href="classarl_1_1controller_1_1_cartesian_admittance.html#adcba33d7df255b55e34ff9a6142355e4">arl::controller::CartesianAdmittance</a>, <a class="el" href="classarl_1_1controller_1_1_cartesian_impedance.html#a2976fa875ef389ad81507e434ffc8a34">arl::controller::CartesianImpedance</a>, <a class="el" href="classarl_1_1controller_1_1_clik.html#aa2f5b34d351b4d3b7650c103f4102d1b">arl::controller::Clik</a>, and <a class="el" href="classarl_1_1bhand_1_1controller_1_1_joint_admittance.html#a97b373d714a091a49b94495741e07ce3">arl::bhand::controller::JointAdmittance</a>.</p>

</div>
</div>
<a class="anchor" id="ada37d9026e80c99391b0f4a3c8433446"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void arl::robot::Controller::enableLogging </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>log_path</em> = <code>&quot;/home/user/autharl_logfiles/&quot;</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Enables the logging by opening files for log benchmarking times and data. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">log_path</td><td>The path for the files to store. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">Exception</td><td>if the files cannot be opened (the directory is not exists) </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="classarl_1_1controller_1_1_clik.html#a6f4a35a3a7fb4b84dd286ff34386bb4e">arl::controller::Clik</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classarl_1_1robot_1_1_controller_ada37d9026e80c99391b0f4a3c8433446_cgraph.png" border="0" usemap="#classarl_1_1robot_1_1_controller_ada37d9026e80c99391b0f4a3c8433446_cgraph" alt=""/></div>
<map name="classarl_1_1robot_1_1_controller_ada37d9026e80c99391b0f4a3c8433446_cgraph" id="classarl_1_1robot_1_1_controller_ada37d9026e80c99391b0f4a3c8433446_cgraph">
<area shape="rect" id="node2" href="classarl_1_1io_1_1_logger.html#a97bb5e32442bf9816c428a3f50b2677d" title="Opens the file in the given destination. " alt="" coords="193,12,330,39"/><area shape="rect" id="node4" href="group___utils.html#ga3d9d058a50d6270c90112a51fd5c4459" title="arl::utils::getAlias" alt="" coords="200,63,323,89"/><area shape="rect" id="node3" href="classarl_1_1utils_1_1_timer.html#aec81585e23ff5da54bbc3395b8bbe330" title="arl::utils::Timer::\lgetCurrentDateTime" alt="" coords="379,5,519,46"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a8d60c751cc1305702562fcd7fa846d3e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string arl::robot::Controller::getName </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the name of the controller. </p>
<dl class="section return"><dt>Returns</dt><dd>The name of the controller </dd></dl>

</div>
</div>
<a class="anchor" id="aec250db6a99b38797318371ac7b287bd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double arl::robot::Controller::getTime </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the current time since the start of the controller in seconds. </p>
<dl class="section return"><dt>Returns</dt><dd>The current time in seconds </dd></dl>

</div>
</div>
<a class="anchor" id="af28359b663c9c19118b5900a812e3b43"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void arl::robot::Controller::init </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initializes the controller. </p>
<p>Implemented according to your controller needs. Common use cases involve sending a the robot in an initial configuration, setting the robot mode (to position or torque control) or setting the paramters and gains of your controller. </p>

<p>Reimplemented in <a class="el" href="classarl_1_1controller_1_1_gravity_compensation.html#aa743f04a3f5e05f5252fb38843c4d944">arl::controller::GravityCompensation</a>, <a class="el" href="classarl_1_1controller_1_1_joint_trajectory.html#a1ecd72374b419c1e3242ad994c35fd9c">arl::controller::JointTrajectory</a>, <a class="el" href="classarl_1_1controller_1_1_cartesian_admittance.html#a720bb9f1d6f29064ead3974b2f528e2d">arl::controller::CartesianAdmittance</a>, <a class="el" href="classarl_1_1controller_1_1_cartesian_impedance.html#affe3ef34bd30dcc7aa968439ef9c4e89">arl::controller::CartesianImpedance</a>, <a class="el" href="classarl_1_1controller_1_1_clik.html#adef0bcaa92fca66c462c8800282591b2">arl::controller::Clik</a>, and <a class="el" href="classarl_1_1bhand_1_1controller_1_1_joint_admittance.html#ad9704f9c4806657fd97d3583a2f07af0">arl::bhand::controller::JointAdmittance</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classarl_1_1robot_1_1_controller_af28359b663c9c19118b5900a812e3b43_cgraph.png" border="0" usemap="#classarl_1_1robot_1_1_controller_af28359b663c9c19118b5900a812e3b43_cgraph" alt=""/></div>
<map name="classarl_1_1robot_1_1_controller_af28359b663c9c19118b5900a812e3b43_cgraph" id="classarl_1_1robot_1_1_controller_af28359b663c9c19118b5900a812e3b43_cgraph">
<area shape="rect" id="node2" href="classarl_1_1utils_1_1_timer.html#a962fe2af85a6a3b78216c96287f00002" title="Initialize timer to run for the first time. " alt="" coords="193,12,327,39"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a59c291bf5ccbaa273976956f190794f3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void arl::robot::Controller::measure </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Measures the desired data. </p>
<p>Implemented according to your controller needs. Basically makes calls to functions of the <a class="el" href="classarl_1_1robot_1_1_robot.html" title="An abstract class that implements a robot. ">Robot</a> class and store them to internal variables, like the joint positions of the robot, the task pose of a robotic arm etc. </p>

<p>Reimplemented in <a class="el" href="classarl_1_1viz_1_1_ros_state_publisher.html#a3d58df9d039878333db8420336fe3017">arl::viz::RosStatePublisher</a>, <a class="el" href="classarl_1_1controller_1_1_cartesian_admittance.html#a8826f1e59503acaa95b3db3dba64c1d3">arl::controller::CartesianAdmittance</a>, <a class="el" href="classarl_1_1controller_1_1_cartesian_impedance.html#abced0fdeea610bb0d45e823ea890da9c">arl::controller::CartesianImpedance</a>, <a class="el" href="classarl_1_1controller_1_1_clik.html#a9c32b41d17ea8cc9c3bc81b4e2f23fbf">arl::controller::Clik</a>, and <a class="el" href="classarl_1_1bhand_1_1controller_1_1_joint_admittance.html#ad8a88ee4000a9a0ef85aecdf4c1cdfb5">arl::bhand::controller::JointAdmittance</a>.</p>

</div>
</div>
<a class="anchor" id="a370a16b12e39cad5ec28c3a0dd81ab74"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void arl::robot::Controller::reference </td>
          <td>(</td>
          <td class="paramtype">const arma::mat &amp;&#160;</td>
          <td class="paramname"><em>ref</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets a new reference for the controller. </p>
<p>Implemented according to your controller needs. The data has the form of an armadillo matrix which can contain any reference signal.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ref</td><td>The data reference in the form of a matrix </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aff59b3f48de46a2f99cca4baa4249902"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool arl::robot::Controller::run </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The main function that runs the controller. </p>
<p>This function is the main thread of the controller. What is basically do is that first initializes the controller by calling the <a class="el" href="classarl_1_1robot_1_1_controller.html#af28359b663c9c19118b5900a812e3b43" title="Initializes the controller. ">Controller::init()</a> and then runs the control loop which stops if the <a class="el" href="classarl_1_1robot_1_1_controller.html#afa49fdbc2c24957201f0fa03e315e8ff" title="Implements the stopping condition of your controller. ">Controller::stop()</a> returns true. In each loop the function measures by calling <a class="el" href="classarl_1_1robot_1_1_controller.html#a59c291bf5ccbaa273976956f190794f3" title="Measures the desired data. ">Controller::measure()</a>, perform calculations by calling <a class="el" href="classarl_1_1robot_1_1_controller.html#ab39ee6179416f0fd2c6c4de6249d9c38" title="Performs the necessary calculations of the controller. ">Controller::update()</a>, commands the robot by calling <a class="el" href="classarl_1_1robot_1_1_controller.html#ab963c74d1fadcefd8e6220662379d073" title="Commands the robot. ">Controller::command()</a> and finally waits for the next cycle of the given robot by calling <a class="el" href="classarl_1_1robot_1_1_robot.html#a85f2fb8f542dcb69c57442369ef88ba8" title="Function that blocks the control loop before the next control cycle starts. ">Robot::waitNextCycle()</a>. After the loop ends it will return the result of the <a class="el" href="classarl_1_1robot_1_1_controller.html#aab23a53d9a36071befe3c8108054bcd7" title="Implements the success condition of your controller. ">Controller::success()</a>.</p>
<dl class="section return"><dt>Returns</dt><dd>True if the controller is successful. False otherwise. </dd></dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classarl_1_1robot_1_1_controller_aff59b3f48de46a2f99cca4baa4249902_cgraph.png" border="0" usemap="#classarl_1_1robot_1_1_controller_aff59b3f48de46a2f99cca4baa4249902_cgraph" alt=""/></div>
<map name="classarl_1_1robot_1_1_controller_aff59b3f48de46a2f99cca4baa4249902_cgraph" id="classarl_1_1robot_1_1_controller_aff59b3f48de46a2f99cca4baa4249902_cgraph">
<area shape="rect" id="node2" href="classarl_1_1robot_1_1_controller.html#af28359b663c9c19118b5900a812e3b43" title="Initializes the controller. " alt="" coords="235,5,373,46"/><area shape="rect" id="node4" href="classarl_1_1utils_1_1_timer.html#a3b9055fea7eef188b8608fa52a592f1d" title="Returns the time elapsed in seconds since the last call of this function. " alt="" coords="217,70,391,111"/><area shape="rect" id="node5" href="classarl_1_1utils_1_1_timer.html#aa41c092a7dc7b8718b1846ca3d18ccd1" title="arl::utils::Timer::\lstartPoint" alt="" coords="245,135,363,177"/><area shape="rect" id="node6" href="classarl_1_1robot_1_1_controller.html#a59c291bf5ccbaa273976956f190794f3" title="Measures the desired data. " alt="" coords="235,201,373,242"/><area shape="rect" id="node7" href="classarl_1_1io_1_1_logger.html#ad771006f018dfeb55818e45a475e6322" title="The main function for logging. " alt="" coords="241,267,367,293"/><area shape="rect" id="node8" href="classarl_1_1utils_1_1_timer.html#a164503a86dfe35688b7dab41233f954b" title="arl::utils::Timer::\ltimeFromStartPoint" alt="" coords="237,318,371,359"/><area shape="rect" id="node9" href="classarl_1_1robot_1_1_controller.html#ab39ee6179416f0fd2c6c4de6249d9c38" title="Performs the necessary calculations of the controller. " alt="" coords="235,383,373,425"/><area shape="rect" id="node10" href="classarl_1_1robot_1_1_controller.html#ab963c74d1fadcefd8e6220662379d073" title="Commands the robot. " alt="" coords="235,449,373,490"/><area shape="rect" id="node11" href="classarl_1_1robot_1_1_controller.html#a4a53028597a91d47bea6935270ea2959" title="arl::robot::Controller\l::waitNextCycle" alt="" coords="235,514,373,555"/><area shape="rect" id="node12" href="classarl_1_1robot_1_1_controller.html#afa49fdbc2c24957201f0fa03e315e8ff" title="Implements the stopping condition of your controller. " alt="" coords="235,579,373,621"/><area shape="rect" id="node13" href="classarl_1_1robot_1_1_controller.html#aab23a53d9a36071befe3c8108054bcd7" title="Implements the success condition of your controller. " alt="" coords="235,645,373,686"/><area shape="rect" id="node3" href="classarl_1_1utils_1_1_timer.html#a962fe2af85a6a3b78216c96287f00002" title="Initialize timer to run for the first time. " alt="" coords="441,12,575,39"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae17338ad0e7acdc0cc0442ff912c359d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void arl::robot::Controller::setExternalStop </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>arg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets an external stop to the controller. Another external thread can use this function to stop the controller. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">arg</td><td>Set True to stop the controller. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="afa49fdbc2c24957201f0fa03e315e8ff"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool arl::robot::Controller::stop </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements the stopping condition of your controller. </p>
<p>Implemented according to your controller needs. Common use cases involve stopping conditions like your robot has zero velocity, the robot hardware signals an error or dangerous movements indicates the immediate stop.</p>
<dl class="section return"><dt>Returns</dt><dd>True if the controller should stop. False otherwise. </dd></dl>

<p>Reimplemented in <a class="el" href="classarl_1_1viz_1_1_ros_state_publisher.html#a074fe9c0b1da6a00fb3a3b09eaf0aab6">arl::viz::RosStatePublisher</a>, <a class="el" href="classarl_1_1controller_1_1_gravity_compensation.html#aee4c781af098e0b29a574b2818662066">arl::controller::GravityCompensation</a>, <a class="el" href="classarl_1_1controller_1_1_joint_trajectory.html#a361fdc1527b59b252a61260c7b78ba30">arl::controller::JointTrajectory</a>, <a class="el" href="classarl_1_1controller_1_1_cartesian_admittance.html#acf0cd99c4910883c53c46d0eeb9221b8">arl::controller::CartesianAdmittance</a>, <a class="el" href="classarl_1_1controller_1_1_cartesian_impedance.html#ac8ce892a4ff6a71dc0e37d9d4d69d9f7">arl::controller::CartesianImpedance</a>, and <a class="el" href="classarl_1_1controller_1_1_clik.html#a566ab2ad9509b3226531e86c6faa03d8">arl::controller::Clik</a>.</p>

</div>
</div>
<a class="anchor" id="aab23a53d9a36071befe3c8108054bcd7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool arl::robot::Controller::success </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements the success condition of your controller. </p>
<p>Implemented according to your controller needs. Did your controller deliver the task appropriantly?</p>
<dl class="section return"><dt>Returns</dt><dd>True if the controller succeded. False otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="ab39ee6179416f0fd2c6c4de6249d9c38"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void arl::robot::Controller::update </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Performs the necessary calculations of the controller. </p>
<p>Implemented according to your controller needs. The calculations can use the measurements from the <a class="el" href="classarl_1_1robot_1_1_controller.html#a59c291bf5ccbaa273976956f190794f3" title="Measures the desired data. ">Controller::measure()</a> which is stored in internal variables and store the results for the <a class="el" href="classarl_1_1robot_1_1_controller.html#ab963c74d1fadcefd8e6220662379d073" title="Commands the robot. ">Controller::command()</a> to use. </p>

<p>Implemented in <a class="el" href="classarl_1_1viz_1_1_ros_state_publisher.html#aa5774fe0f6452b6d856abcbcfd1452ac">arl::viz::RosStatePublisher</a>, <a class="el" href="classarl_1_1controller_1_1_gravity_compensation.html#a5b3343a697f9b45d12d055d1dfb9e937">arl::controller::GravityCompensation</a>, <a class="el" href="classarl_1_1controller_1_1_joint_trajectory.html#a41de508dd5d67b2a5ae7ff30a496944b">arl::controller::JointTrajectory</a>, <a class="el" href="classarl_1_1controller_1_1_cartesian_admittance.html#afe2b043719f421250f4bdb063006e76a">arl::controller::CartesianAdmittance</a>, <a class="el" href="classarl_1_1controller_1_1_cartesian_impedance.html#ac2307c8c0ce25adb7123a21798e07cb0">arl::controller::CartesianImpedance</a>, <a class="el" href="classarl_1_1controller_1_1_clik.html#a0bb61218ce520e0f660ba2316d375f39">arl::controller::Clik</a>, and <a class="el" href="classarl_1_1bhand_1_1controller_1_1_joint_admittance.html#ad86f7831ac4686a557a345ce5a6bc23c">arl::bhand::controller::JointAdmittance</a>.</p>

</div>
</div>
<a class="anchor" id="a4a53028597a91d47bea6935270ea2959"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void arl::robot::Controller::waitNextCycle </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented in <a class="el" href="classarl_1_1viz_1_1_ros_state_publisher.html#a515953ab15754e56861e9b0870eed78b">arl::viz::RosStatePublisher</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="ad2c0ad1b4362530f229141e47827cab6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classarl_1_1io_1_1_logger.html">io::Logger</a> arl::robot::Controller::benchmark_logger_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a193bf1fa1a996ec6f1fe93dbd7008872"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classarl_1_1utils_1_1_timer.html">utils::Timer</a> arl::robot::Controller::benchmark_timer_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a6b97e78d8b569eb7399d94144703c13e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classarl_1_1utils_1_1_timer.html">utils::Timer</a> arl::robot::Controller::benchmark_total_timer_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a00f38032199e0b3c759aac9b382f12e1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double arl::robot::Controller::dt</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The cycle time of the control loop, obtained by the robot. </p>

</div>
</div>
<a class="anchor" id="aae807c44c1aa071ec59955ed0faf8600"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool arl::robot::Controller::external_stop</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The external stopped setted by <a class="el" href="classarl_1_1robot_1_1_controller.html#ae17338ad0e7acdc0cc0442ff912c359d" title="Sets an external stop to the controller. Another external thread can use this function to stop the co...">Controller::setExternalStop()</a> </p>

</div>
</div>
<a class="anchor" id="a4df98ef4192beac5f244994c669b99f7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classarl_1_1io_1_1_logger.html">io::Logger</a> arl::robot::Controller::logger_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a5ab97e428a1763fc310d36cb0ad0f4e9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string arl::robot::Controller::name</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The name of the controller. </p>

</div>
</div>
<a class="anchor" id="a4a15c311185097b39746f20363b83b61"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt;<a class="el" href="classarl_1_1robot_1_1_robot.html">Robot</a>&gt; arl::robot::Controller::robot</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The pointer to the robot to be controlled. </p>

</div>
</div>
<a class="anchor" id="ac2e9ff44a6ef6f7e9df71ba61b4c0155"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool arl::robot::Controller::stop_flag_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a989131827b46e7d40f7304db80755ec7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double arl::robot::Controller::t</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The current time t, with t = 0 when the controller is created. Alternatively the user can initialize time durint the <a class="el" href="classarl_1_1robot_1_1_controller.html#af28359b663c9c19118b5900a812e3b43" title="Initializes the controller. ">init()</a> function of its derived controller. </p>

</div>
</div>
<a class="anchor" id="a72d35b4c1adf909f93e4e9f777b8b505"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classarl_1_1utils_1_1_timer.html">utils::Timer</a> arl::robot::Controller::timer</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Used for measuring the current time of the controller. </p>

</div>
</div>
<a class="anchor" id="a04f35dc58030ec1664b74766e0df96a1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classarl_1_1robot_1_1_controller.html#ab7e361caf751a795006b7675dad54a42">Timing</a> arl::robot::Controller::timing_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>core/robot/include/autharl_core/robot/controller.h</li>
<li>core/robot/src/controller.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Jan 9 2018 17:14:43 for AUTh-ARL Core Stack by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
